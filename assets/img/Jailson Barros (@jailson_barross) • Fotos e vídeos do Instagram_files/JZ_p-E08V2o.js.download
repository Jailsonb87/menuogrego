;/*FB_PKG_DELIM*/

__d("usePolarisPreloadedPostQuery",["useLogPolarisPreloadExposure","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("usePolarisQueryStore")(),e=c("usePolarisQueryPreloaderID")(a);c("useLogPolarisPreloadExposure")(a);return d.loadPostQuery([a.request.url,a.request.params],b,e)}g["default"]=a}),98);
__d("PolarisFeedActionScrolledToTop",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"FEED_SCROLLED_TO_TOP"}}f.scrolledToTop=a}),66);
__d("PolarisFeedPageContainerDeferred",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPageContainer.react").__setRef("PolarisFeedPageContainerDeferred"));b=a;g["default"]=b}),98);
__d("PolarisFeedActionSelectFeedVariant",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{variant:a,type:"SELECT_FEED_VARIANT"}}f.selectFeedVariant=a}),66);
__d("usePolarisCurrentFeedVariant",["CometRouteParams","PolarisFeedActionSelectFeedVariant","PolarisFeedVariants","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(){var a=d("PolarisReactRedux").useDispatch(),b=d("CometRouteParams").useRouteParams();b=b.variant;var e=(b=c("PolarisFeedVariants").cast(String(b)))!=null?b:"home",f=d("PolarisReactRedux").useSelector(function(a){return a.feed.currentFeed});h(function(){e!=null&&f!==e&&a(d("PolarisFeedActionSelectFeedVariant").selectFeedVariant(e))},[a,f,e]);return(b=e)!=null?b:f}g["default"]=a}),98);
__d("usePolarisInitFeedPage",["PolarisFeedActionInitFeed","PolarisFeedSeenState.react","PolarisReactRedux","react","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b){var e=d("PolarisFeedSeenState.react").usePolarisFeedSeenStateManager(),f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisQueryStore")(),i=c("usePolarisQueryPreloaderID")(a),j=c("usePolarisQueryPreloaderID")(b);return h(function(){if(e!=null&&e.count()>0){var c=e.getViewInfo();e.clear();f(d("PolarisFeedActionInitFeed").initFeed({queryStore:g,preloadedFeedQuery:a,preloadedFeedQueryId:i,feedViewInfo:c,preloadedStoryTrayQueryId:j,preloadedStoryTrayQuery:b}))}else f(d("PolarisFeedActionInitFeed").initFeed({queryStore:g,preloadedFeedQuery:a,preloadedFeedQueryId:i,preloadedStoryTrayQueryId:j,preloadedStoryTrayQuery:b}))},[e,f,g,a,i,j,b])}g["default"]=a}),98);
__d("PolarisFeedActionInitFeedVariant",["PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionFetchFeedDataFromNative","PolarisMonitorErrors","PolarisStoryAPIActions","PolarisUA","Promise","asyncToGeneratorRuntime","polarisFeedReducer","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){f=f();var g,h,i=f.feed.currentFeed,j=d("polarisFeedReducer").getFeedContent(f.feed),k=j.isLoadingPosts;j=j.paginationInfo;k||(e({type:"FEED_LOADING"}),g=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({feedViewInfo:a,paginationSource:j==null?void 0:j.paginationSource,cursor:j==null?void 0:j.cursor}).then(function(a){return e(d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(e,a,i))}));d("PolarisUA").isDesktop()&&!f.stories.isLoading&&(i==="home"||i==="following")&&c("qex")._("112")&&(h=d("PolarisStoryAPIActions").loadStoryTray(e,void 0,i).then(function(a){e(a)}));return b("Promise").all([g,h])["catch"](function(a){d("PolarisMonitorErrors").logError(a)})});return function(a,b){return e.apply(this,arguments)}}()}g.initFeedVariant=a}),98);
__d("usePolarisInitFeedVariantPage",["PolarisFeedActionInitFeedVariant","PolarisFeedLastHeadLoadContext","PolarisFeedSeenState.react","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("PolarisFeedSeenState.react").usePolarisFeedSeenStateManager(),b=d("PolarisReactRedux").useDispatch(),c=d("PolarisFeedLastHeadLoadContext").useSetLastHeadLoadMs();return h(function(){if(a!=null&&a.count()>0){var e=a.getViewInfo();a.clear();b(d("PolarisFeedActionInitFeedVariant").initFeedVariant(e))}else b(d("PolarisFeedActionInitFeedVariant").initFeedVariant());c(Date.now())},[b,a,c])}g["default"]=a}),98);
__d("usePolarisRefreshFeedData",["PolarisFeedActionConstants","PolarisFeedActionRefreshFeedData","PolarisFeedLastHeadLoadContext","PolarisFeedSeenState.react","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("PolarisFeedSeenState.react").usePolarisFeedSeenStateManager(),b=d("PolarisReactRedux").useDispatch(),c=d("PolarisFeedLastHeadLoadContext").useSetLastHeadLoadMs();return h(function(e,f){e===void 0&&(e=d("PolarisFeedActionConstants").PAGE_SIZE);f===void 0&&(f=!1);if(a!=null&&a.count()>0){var g=a.getViewInfo();a.clear();b(d("PolarisFeedActionRefreshFeedData").refreshFeedData(e,f,g))}else b(d("PolarisFeedActionRefreshFeedData").refreshFeedData(e,f));c(Date.now())},[b,a,c])}g["default"]=a}),98);
__d("PolarisFeedRoot.react",["CometPlaceholder.react","PolarisConditionalPageLayoutHandler.react","PolarisFeedActionScrolledToTop","PolarisFeedPageContainerDeferred","PolarisFeedState","PolarisReactRedux","polarisFeedSelectors","react","usePolarisCurrentFeedVariant","usePolarisInitFeedPage","usePolarisInitFeedVariantPage","usePolarisPreloadedPostQuery","usePolarisRefreshFeedData","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef;function a(a){a=a.props.routeProps.polaris_preload;var b=a.feed,e=a.story_tray;a=a.suggested_user_list;var f=c("usePolarisCurrentFeedVariant")(),g=d("PolarisReactRedux").useSelector(d("polarisFeedSelectors").getFeedContent),k=g.currentState;g=g.isLoadingPosts;var l=c("useRoutePassthroughProps")(),m=j(!1),n=d("PolarisReactRedux").useDispatch(),o=k===d("PolarisFeedState").FEED_STATE_NETWORK||g,p=c("usePolarisInitFeedPage")(b,e);k=c("usePolarisPreloadedPostQuery")(a);var q=c("usePolarisInitFeedVariantPage")(),r=c("usePolarisRefreshFeedData")(),s=d("PolarisReactRedux").useSelector(function(a){return a.feed.content[f].items});i(function(){(f==="home"||f==="past_posts")&&m.current===!1&&!o?(p(),m.current=!0):f!=="home"&&!o&&(!s||s.size===0)&&q()},[f,p,q,o,s]);i(function(){(l==null?void 0:l.refreshFeed)===!0&&(window.scrollTo(0,0),n(d("PolarisFeedActionScrolledToTop").scrolledToTop()),r())},[n,l==null?void 0:l.refreshFeed,r]);g=h.jsx(c("PolarisFeedPageContainerDeferred"),{suggestedUserListQueryRef:k});return c("PolarisConditionalPageLayoutHandler.react")!=null?h.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:g})}):h.jsx(h.Fragment,{children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);